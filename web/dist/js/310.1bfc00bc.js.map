{"version":3,"file":"js/310.1bfc00bc.js","mappings":"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","sources":["webpack://vue2router/./src/components/SingleMargin.vue","webpack://vue2router/./src/components/MarginType.vue","webpack://vue2router/src/components/MarginType.vue","webpack://vue2router/./src/components/MarginType.vue?7d29","webpack://vue2router/./src/components/MarginType.vue?3393","webpack://vue2router/src/components/SingleMargin.vue","webpack://vue2router/./src/components/SingleMargin.vue?163b","webpack://vue2router/./src/components/SingleMargin.vue?48df","webpack://vue2router/./src/views/Comments.vue","webpack://vue2router/src/views/Comments.vue","webpack://vue2router/./src/views/Comments.vue?2ac7","webpack://vue2router/./src/views/Comments.vue?6a3e","webpack://vue2router/./src/views/SearchPageDialog.vue","webpack://vue2router/./src/components/SingleDialog.vue","webpack://vue2router/src/components/SingleDialog.vue","webpack://vue2router/./src/components/SingleDialog.vue?db41","webpack://vue2router/./src/components/SingleDialog.vue?fa6b","webpack://vue2router/./src/components/SelectionPanel.vue","webpack://vue2router/src/components/SelectionPanel.vue","webpack://vue2router/./src/components/SelectionPanel.vue?a5a0","webpack://vue2router/./src/components/SelectionPanel.vue?5869","webpack://vue2router/src/views/SearchPageDialog.vue","webpack://vue2router/./src/views/SearchPageDialog.vue?5b9c","webpack://vue2router/./src/views/SearchPageDialog.vue?6963"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dialog\",attrs:{\"id\":'comment'+_vm.data.id},on:{\"click\":function($event){return _vm.setChosenMargin(_vm.data.id)}}},[_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(\"注释\"+_vm._s(_vm.data.id + 1))]),_c('span',[_vm._v(\"位置\"+_vm._s(_vm.data.position))]),_c('margin-type',{attrs:{\"type\":_vm.type},on:{\"displaySelectionPanel\":function($event){return _vm.displaySelectionPanel()}}},[_vm._v(_vm._s(_vm.type))])],1),_c('textarea',{attrs:{\"type\":\"text\",\"disabled\":\"disabled\"},domProps:{\"value\":_vm.data.content}}),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.edit($event, _vm.data.id)}}},[_vm._v(\"编辑\")]),_c('button',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.deleteComments(_vm.data.id)}}},[_vm._v(\"删除\")]),_c('a',{staticClass:\"dialog-content\",attrs:{\"href\":this.link}},[_vm._v(\"跳转\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"tag\",staticClass:\"tag\"},[_c('span',[_vm._v(_vm._s(_vm.type))]),_c('div',{staticClass:\"answer\"},[_c('button',{style:('display:'+_vm.hidden),on:{\"click\":_vm.addAnswer}},[_vm._v(\"查看/添加\"+_vm._s(_vm.answer))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tag\" ref=\"tag\">\r\n    <span>{{type}}</span>\r\n    <div class=\"answer\">\r\n      <button @click=\"addAnswer\" :style=\"'display:'+hidden\">查看/添加{{answer}}</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      required: true,\r\n      // validator (value) {\r\n      //   for (const i of this.availableTypes) {\r\n      //     if (value === i){\r\n      //       return true\r\n      //     }\r\n      //   }\r\n      //   return false\r\n      // }\r\n    },\r\n    hide: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true\r\n    }\r\n  },\r\n  mounted () {\r\n    console.log(this.type)\r\n    if (this.type === \"推测\") {\r\n      this.$refs.tag.classList.add(\"inference\")\r\n      this.answer = \"关联\"\r\n    } else if (this.type === \"疑点\") {\r\n      this.$refs.tag.classList.add(\"question\")\r\n      this.answer = \"解答\"\r\n    } else if (this.type === \"批注\") {\r\n      this.$refs.tag.classList.add(\"margin\")\r\n      this.answer = \"关联\"\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      availableTypes: ['推测', '疑点', '批注'],\r\n      answer: \"解答\"\r\n    }\r\n  },\r\n  methods: {\r\n    addAnswer(){\r\n      console.log(\"addAnswer\")\r\n      this.$emit('displaySelectionPanel')\r\n    }\r\n  },\r\n  computed: {\r\n    hidden(){\r\n      if (this.type === \"疑点\" && this.hide){\r\n        return \"hidden\"\r\n      } else {\r\n        return \"none\"\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.question {\r\n  color: white;\r\n  background-color: darkred;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.inference {\r\n  color: white;\r\n  background-color: #6B8E23;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.margin {\r\n  color: white;\r\n  background-color: #6495ED;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarginType.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarginType.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MarginType.vue?vue&type=template&id=6d5074f7&scoped=true\"\nimport script from \"./MarginType.vue?vue&type=script&lang=js\"\nexport * from \"./MarginType.vue?vue&type=script&lang=js\"\nimport style0 from \"./MarginType.vue?vue&type=style&index=0&id=6d5074f7&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d5074f7\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"dialog\" @click=\"setChosenMargin(data.id)\" :id=\"'comment'+data.id\">\r\n    <div class=\"info\">\r\n        <span>注释{{data.id + 1}}</span>\r\n        <span>位置{{data.position}}</span>\r\n        <margin-type :type=\"type\" @displaySelectionPanel=\"displaySelectionPanel()\">{{type}}</margin-type>\r\n    </div>\r\n    <textarea type=\"text\" disabled=\"disabled\" :value=\"data.content\"></textarea>\r\n    <div class=\"buttons\">\r\n        <button class=\"edit\" @click=\"edit($event, data.id)\">编辑</button>\r\n        <button class=\"delete\" @click=\"deleteComments(data.id)\">删除</button>\r\n        <a :href=\"this.link\" class=\"dialog-content\">跳转</a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MarginType from './MarginType.vue'\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    type: {\r\n      type: String\r\n    },\r\n    filename: {\r\n      type: String\r\n    }\r\n  },\r\n  components: {\r\n    'marginType': MarginType\r\n  },\r\n  methods: {\r\n    setChosenMargin (id) {\r\n      console.log(\"changed chosen margin\")\r\n      this.$emit('setChosenMargin', id)\r\n    },\r\n    edit(e, id) {\r\n      e.currentTarget.parentNode.previousElementSibling.disabled = !e.currentTarget.parentNode.previousElementSibling.disabled;\r\n      // console.log(e.currentTarget.parentNode.previousElementSibling.disabled)\r\n      if (e.currentTarget.parentNode.previousElementSibling.disabled == true){\r\n          // for (i in this.comments){\r\n          //     if (this.comments[i].id == id){\r\n          //         this.comments[i].content = e.currentTarget.parentNode.previousElementSibling.value\r\n          //     }\r\n          // }\r\n        this.$emit('edit', id, e.currentTarget.parentNode.previousElementSibling.value)\r\n      }\r\n    },\r\n    deleteComments(id){\r\n      this.$emit(\"deleteComments\", id)\r\n    },\r\n    displaySelectionPanel(){\r\n      console.log(\"display\")\r\n      this.$emit(\"showSelectionModal\")\r\n    }\r\n  },\r\n  created () {\r\n    if (this.filename === \"\" || this.filename === undefined || this.filename === null){\r\n      this.link = this.$route.path+'#dialog'+this.data.position\r\n    } else {\r\n      this.link = \"/search/\" + this.filename +'#dialog'+this.data.position\r\n    }\r\n    console.log(this.link)\r\n  },\r\n  data () {\r\n    return {\r\n      link: \"\"\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.buttons{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: left;\r\n}\r\n.buttons button{\r\n    margin: 10px;\r\n    height: 40px;\r\n    width: 100%;\r\n}\r\n\r\n.dialog textarea{\r\n  height:100px;\r\n  width: 90%;\r\n  margin: 4%;\r\n  background-color: white;\r\n  font-weight:400;\r\n  color: black;\r\n  resize: none;\r\n}\r\n\r\n.dialog{\r\n  width: 100%;;\r\n  height: max-content;\r\n  position: relative;\r\n  border: solid 1px black;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.dialog .info .type{\r\n  height: max-content;\r\n  width: max-content;\r\n  position: absolute;\r\n  right: 0px;\r\n  margin-left: 10px;\r\n  background-color: pink;\r\n}\r\n\r\n.active-margin{\r\n  box-shadow:0 15px 35px rgba(0,0,0,0.5);\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleMargin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleMargin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SingleMargin.vue?vue&type=template&id=7b32d8cd&scoped=true\"\nimport script from \"./SingleMargin.vue?vue&type=script&lang=js\"\nexport * from \"./SingleMargin.vue?vue&type=script&lang=js\"\nimport style0 from \"./SingleMargin.vue?vue&type=style&index=0&id=7b32d8cd&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b32d8cd\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comments\"},[_c('div',{staticClass:\"condition\"},[_c('div',{staticClass:\"condition-wrapper\"},[_c('span',[_vm._v(\"剧情名称\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filename),expression:\"filename\"}],attrs:{\"type\":\"radio\"},domProps:{\"value\":_vm.filenames[0]},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filename=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"all\")]),_vm._l((_vm.filenames),function(name,index){return _c('option',{key:index},[_vm._v(_vm._s(name))])})],2)]),_c('div',{staticClass:\"condition-wrapper\"},[_c('span',[_vm._v(\"查找内容\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchText=$event.target.value}}})]),_c('div',{staticClass:\"condition-wrapper\"},[_c('span',[_vm._v(\"批注类型\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"all\")]),_c('option',{attrs:{\"value\":\"疑点\"}},[_vm._v(\"疑点\")]),_c('option',{attrs:{\"value\":\"推测\"}},[_vm._v(\"推测\")]),_c('option',{attrs:{\"value\":\"批注\"}},[_vm._v(\"批注\")])])])]),_c('br'),_c('div',{staticClass:\"comment-list\"},[_c('ul',[_vm._l((_vm.temp_comments),function(data,index){return _c('div',{key:index,ref:\"margin\",refInFor:true,staticClass:\"comment-wrapper\",attrs:{\"id\":'comment'+index},on:{\"click\":function($event){return _vm.setChosenMargin(index, data.filename)}}},[_c('span',[_vm._v(_vm._s(data.filename)+\":\")]),_c('single-margin',{attrs:{\"data\":data,\"type\":data.type,\"filename\":data.filename},on:{\"setChosenMargin\":function($event){return _vm.setChosenMargin(index, data.filename)},\"edit\":_vm.notAlter,\"deleteComments\":_vm.notAlter}})],1)}),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"400px\"}})],2)]),_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"add\",on:{\"click\":_vm.add}},[_vm._v(\"添加\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"comments\">\r\n        <div class=\"condition\">\r\n            <div class=\"condition-wrapper\">\r\n                <span>剧情名称</span>\r\n                <select v-model=\"filename\" type=\"radio\" :value=\"filenames[0]\">\r\n                    <option value=\"all\">all</option>\r\n                    <option v-for=\"(name, index) in filenames\" :key=\"index\">{{name}}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"condition-wrapper\">\r\n                <span>查找内容</span>\r\n                <input type=\"text\" v-model=\"searchText\">\r\n            </div>\r\n            <div class=\"condition-wrapper\">\r\n                <span>批注类型</span>\r\n                <select v-model=\"type\" type=\"radio\">\r\n                    <option value=\"all\">all</option>\r\n                    <option value=\"疑点\">疑点</option>\r\n                    <option value=\"推测\">推测</option>\r\n                    <option value=\"批注\">批注</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"comment-list\">\r\n            <ul>\r\n                <div v-for=\"(data, index) in temp_comments\" :key=\"index\" class=\"comment-wrapper\" :id=\"'comment'+index\" ref=\"margin\" @click=\"setChosenMargin(index, data.filename)\">\r\n                    <span>{{data.filename}}:</span>\r\n                    <single-margin :data=\"data\" :type=\"data.type\" @setChosenMargin=\"setChosenMargin(index, data.filename)\" @edit=\"notAlter\" @deleteComments=\"notAlter\" :filename=\"data.filename\"></single-margin>\r\n                </div>\r\n                <div style=\"width: 100%; height: 400px;\"></div> \r\n            </ul>\r\n        </div>\r\n        <div class=\"footer\">\r\n            <button class=\"add\" @click=\"add\">添加</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SingleMargin from '@/components/SingleMargin.vue';\r\n// import SingleMargin from '../components/SingleMargin.vue';\r\nimport axios from 'axios';\r\nexport default {\r\n    name: `BaseFriend`,\r\n    data() {\r\n        return {\r\n            type: \"all\",\r\n            filename: \"all\",\r\n            comments: [],\r\n            filenames: [],\r\n            temp_comments: [],\r\n            chosen_margin: -1,\r\n            chosen_filename: \"\",\r\n            searchText: \"\"\r\n        }\r\n    },\r\n    components: {\r\n        'SingleMargin': SingleMargin\r\n    },\r\n    async created() {\r\n        const res = await axios({\r\n            url: \"http://127.0.0.1:8000/get_all_comments\"\r\n        })\r\n        this.comments = res.data\r\n        console.log(this.comments[0])\r\n        this.filenames = this.comments.map(it => it.filename)\r\n        this.filenames = Array.from(new Set(this.filenames))\r\n        // this.filename = this.filenames[0]\r\n        this.temp_comments = this.comments\r\n    },\r\n    methods: {\r\n        add(){\r\n            this.$emit(\"add\", this.chosen_filename, this.temp_comments[this.chosen_margin].id)\r\n        },\r\n        notsupported(){\r\n            console.log(\"not supported\")\r\n        },\r\n        notAlter(){\r\n            alert(\"you should not alter this\")\r\n        },\r\n        setChosenMargin(index, filename){\r\n            console.log(\"this\")\r\n            this.chosen_margin = index\r\n            this.chosen_filename = filename\r\n        },\r\n        search(){\r\n            if (this.type != \"all\") {\r\n                this.temp_comments = this.temp_comments.filter(it => it.type === this.type)\r\n            }\r\n        },\r\n        searchValidComments(){\r\n            if (this.filename != \"all\") {\r\n                if (this.type != \"all\"){\r\n                    this.temp_comments = this.comments.filter(it => it.filename == this.filename && it.type == this.type && it.content.includes(this.searchText))\r\n                } else {\r\n                    this.temp_comments = this.comments.filter(it => it.filename == this.filename && it.content.includes(this.searchText))\r\n                }\r\n            } else {\r\n                if (this.type != \"all\"){\r\n                    this.temp_comments = this.comments.filter(it => it.type == this.type && it.content.includes(this.searchText))\r\n                } else {\r\n                    this.temp_comments = this.comments.filter(it => it.content.includes(this.searchText))\r\n                }\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        filename: {\r\n            handler(){\r\n                this.searchValidComments()\r\n            }\r\n        },\r\n        type: {\r\n            handler(){\r\n                this.searchValidComments()\r\n            }\r\n        },\r\n        searchText: {\r\n            handler(){\r\n                this.searchValidComments()\r\n            }\r\n        },\r\n        chosen_margin(newVal, oldVal) {\r\n            console.log(newVal)\r\n            this.$refs.margin[newVal].classList.add(\"active-margin\")\r\n            if (oldVal != -1){\r\n                this.$refs.margin[oldVal].classList.remove(\"active-margin\")\r\n            }\r\n            // console.log(this.$refs.margin.querySelector(`.dialog[id=\"comment${newVal}\"]`))\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comments{\r\n    position: relative;\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n.condition {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 30px;\r\n    width: 100%;\r\n    position: relative;\r\n    justify-content:left;\r\n    text-align: left;\r\n}\r\n\r\n.condition .condition-wrapper{\r\n    /* position: absolute; */\r\n    /* left: 0px; */\r\n    margin: 10px;\r\n}\r\n\r\n.condition .condition-wrapper span{\r\n    margin-right: 20px;\r\n}\r\n\r\n.comment-list{\r\n    position: absolute;\r\n    top: 100px;\r\n    /* left: 50%; */\r\n    height: 80%;\r\n    justify-content: center;\r\n    text-align:center;\r\n    margin-top: 10px;\r\n    width: 100%;\r\n    overflow: scroll;\r\n    /* transform: translateX(-350px); */\r\n}\r\n\r\n.comment-list .comment-wrapper{\r\n    display: flex;\r\n    flex-direction: row;\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 100%;\r\n    justify-content: space-between;\r\n    margin-bottom: 100px;\r\n    margin-top: 100px;\r\n}\r\n\r\n.comment-list .comment-wrapper span{\r\n    margin-right: 50px;\r\n    width: 100%;\r\n}\r\n\r\n.footer{\r\n    position: absolute;\r\n    top: 90%;\r\n    height: 10%;\r\n    width: 100%;\r\n}\r\n\r\n.footer button{\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    width: 50px;\r\n    transform: translateX(-25px);\r\n}\r\n\r\n.active-margin{\r\n     box-shadow:0 15px 35px rgba(0,0,0,0.5);\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=525db3bf&scoped=true\"\nimport script from \"./Comments.vue?vue&type=script&lang=js\"\nexport * from \"./Comments.vue?vue&type=script&lang=js\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=525db3bf&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"525db3bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"buttons\"},[_c('b-button',{on:{\"click\":function($event){return _vm.toggle()}}},[_vm._v(\"新建注释\")]),_c('button',{on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"保存\")]),_c('span',[_vm._v(\"当前位置\"+_vm._s(_vm.chosen_dialog))])],1),_c('div',{staticClass:\"document\"},[_c('div',{ref:\"content\",staticClass:\"content\"},[_c('ul',_vm._l((_vm.text),function(data){return _c('single-dialog',{key:data.id,attrs:{\"data\":data},on:{\"setChosenContent\":_vm.setChosenContent}})}),1)]),_c('div',{ref:\"margin\",staticClass:\"margin\"},[_c('ul',_vm._l((_vm.comments),function(data){return _c('single-margin',{key:data.id,attrs:{\"data\":data,\"type\":data.type},on:{\"setChosenMargin\":_vm.setChosenMargin,\"edit\":_vm.edit,\"deleteComments\":_vm.deleteComments,\"showSelectionModal\":function($event){return _vm.showSelectionModal(data)}}})}),1)])]),_c('b-modal',{ref:\"modal\",staticClass:\"modal\",attrs:{\"id\":\"modal\",\"hide-footer\":\"\",\"hide-header\":\"\",\"dismissible\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('b-button',{staticClass:\"modal-button close-button\",on:{\"click\":_vm.hideModal}},[_vm._v(\" X \")])],1),_c('div',{staticClass:\"modal-content-wrapper\"},[_c('div',{staticClass:\"modal-input\"},[_c('span',[_vm._v(\"注释位置 \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],attrs:{\"type\":\"text\",\"id\":\"position\"},domProps:{\"value\":(_vm.position)},on:{\"input\":function($event){if($event.target.composing)return;_vm.position=$event.target.value}}})]),_c('br'),_c('div',{staticClass:\"modal-input\"},[_c('span',[_vm._v(\"注释内容 \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],attrs:{\"type\":\"text\",\"id\":\"position\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.content=$event.target.value}}})]),_c('br'),_c('div',{staticClass:\"modal-type\"},[_c('span',[_vm._v(\"注释类型 \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"type\":\"radio\",\"id\":\"position\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"疑点\"}},[_vm._v(\"疑点\")]),_c('option',{attrs:{\"value\":\"推测\"}},[_vm._v(\"推测\")]),_c('option',{attrs:{\"value\":\"批注\"}},[_vm._v(\"批注\")])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('b-button',{staticClass:\"modal-button close-button\",on:{\"click\":function($event){return _vm.addComments()}}},[_vm._v(\" 新建注释 \")])],1)])]),(_vm.showSelectionPanel)?_c('selection-panel',{attrs:{\"currentData\":_vm.currentData},on:{\"showSelectionModal\":_vm.showSelectionModal}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dialog\",attrs:{\"id\":'dialog'+_vm.data.id},on:{\"click\":function($event){return _vm.setChosenContent(_vm.data.id)}}},[_c('span',{staticClass:\"role\"},[_vm._v(_vm._s(_vm.data.role)+\":\")]),_c('span',{staticClass:\"dialog-content\"},[_vm._v(_vm._s(_vm.data.content))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dialog\" :id=\"'dialog'+data.id\" @click=\"setChosenContent(data.id)\">\r\n    <span class=\"role\">{{data.role}}:</span>\r\n    <span class=\"dialog-content\">{{data.content}}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    setChosenContent (id) {\r\n      this.$emit('setChosenContent', id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dialog .role{\r\n  border: solid 1px black;\r\n  margin: 5px;\r\n  width: max-content;\r\n  position:absolute;\r\n  left:0%;\r\n}\r\n\r\n.active-content{\r\n  box-shadow:0 15px 35px rgba(0,0,0,0.5);\r\n}\r\n\r\n.dialog .dialog-content{\r\n  /* border: solid 1px black; */\r\n  /* margin: 5px; */\r\n  width: 70;\r\n  height: 100%;\r\n  position:absolute;\r\n  left:30%;\r\n}\r\n\r\n.dialog{\r\n  width: 100%;;\r\n  height: 90px;\r\n  position: relative;\r\n  border: solid 1px black;\r\n  border-radius: 5px;\r\n  overflow-x: hidden;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.active-margin{\r\n  box-shadow:0 15px 35px rgba(0,0,0,0.5);\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SingleDialog.vue?vue&type=template&id=058936a6&scoped=true\"\nimport script from \"./SingleDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SingleDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./SingleDialog.vue?vue&type=style&index=0&id=058936a6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"058936a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"selectionPanel\"},[_c('div',{staticClass:\"wrapper\"},[_c('button',{staticClass:\"close\",on:{\"click\":_vm.toggle}},[_vm._v(\"X\")]),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-content-left modal-div\"},[_vm._m(0),_c('single-margin',{key:_vm.currentData.id,attrs:{\"data\":_vm.currentData,\"type\":_vm.currentData.type},on:{\"setChosenMargin\":_vm.nothing,\"edit\":_vm.nothing,\"deleteComments\":_vm.nothing}})],1),_c('div',{staticClass:\"modal-content-middle modal-div\"},[_vm._m(1),_c('comments',{on:{\"add\":_vm.add}})],1),_c('div',{staticClass:\"modal-content-right modal-div\"},[_vm._m(2),_c('div',{staticClass:\"comment-list\"},[_c('ul',_vm._l((_vm.temp_comments),function(data,index){return _c('div',{key:index,ref:\"margin\",refInFor:true,staticClass:\"comment-wrapper\",attrs:{\"id\":'comment'+index}},[_c('span',[_vm._v(_vm._s(data.filename)+\":\")]),_c('single-margin',{attrs:{\"data\":data,\"type\":data.type,\"filename\":data.filename},on:{\"setChosenMargin\":_vm.nothing,\"edit\":_vm.notAlter,\"deleteComments\":function($event){return _vm.deleteAnswer(data)}}})],1)}),0)])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"当前批注\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"所有批注\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"有关联的批注\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"selectionPanel\">\r\n    <div class=\"wrapper\">\r\n      <button class=\"close\" @click=\"toggle\">X</button>\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-content-left modal-div\">\r\n          <div class=\"title\"><span>当前批注</span></div>\r\n          <single-margin \r\n            :data=\"currentData\" \r\n            :type=\"currentData.type\" \r\n            @setChosenMargin=\"nothing\" \r\n            @edit=\"nothing\" \r\n            @deleteComments=\"nothing\"\r\n            :key=\"currentData.id\"\r\n            >\r\n          </single-margin>\r\n        </div>\r\n        <div class=\"modal-content-middle modal-div\">\r\n          <div class=\"title\"><span>所有批注</span></div>\r\n          <comments @add=\"add\"></comments>\r\n        </div>\r\n        <div class=\"modal-content-right modal-div\">\r\n          <div class=\"title\"><span>有关联的批注</span></div>\r\n          <div class=\"comment-list\">\r\n            <ul>\r\n                <div v-for=\"(data, index) in temp_comments\" :key=\"index\" class=\"comment-wrapper\" :id=\"'comment'+index\" ref=\"margin\">\r\n                    <span>{{data.filename}}:</span>\r\n                    <single-margin :data=\"data\" :type=\"data.type\" @setChosenMargin=\"nothing\" @edit=\"notAlter\" @deleteComments=\"deleteAnswer(data)\" :filename=\"data.filename\"></single-margin>\r\n                </div>\r\n            </ul>\r\n          </div>  \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SingleMargin from './SingleMargin.vue'\r\nimport Comments from '@/views/Comments.vue'\r\nimport axios from 'axios'\r\nexport default {\r\n  props:{\r\n    currentData: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  async created() {\r\n    await axios({\r\n      url: \"http://127.0.0.1:8000/get_answer\",\r\n      params: {\r\n          target_filename: this.currentData.filename,\r\n          target_id: this.currentData.id,\r\n      }\r\n    }).then(\r\n      res => (this.temp_comments = res.data)\r\n    )\r\n  },\r\n  methods: {\r\n    toggle() {\r\n      this.$emit(\"showSelectionModal\")\r\n    },\r\n    nothing(){\r\n      return\r\n    },\r\n    notAlter(){\r\n      alert(\"not supported in this panel\")\r\n    },\r\n    async deleteAnswer(data){\r\n      await axios({\r\n        url: \"http://127.0.0.1:8000/delete_answer\",\r\n        params: {\r\n          target_filename: this.currentData.filename,\r\n          target_id: this.currentData.id,\r\n          answer_filename: data.filename,\r\n          answer_id: data.id\r\n        }\r\n      })\r\n      this.temp_comments = this.temp_comments.filter(res => (res.filename != data.filename && res.id != data.id))\r\n      await axios({\r\n        url: \"http://127.0.0.1:8000/get_answer\",\r\n        params: {\r\n            target_filename: this.currentData.filename,\r\n            target_id: this.currentData.id,\r\n        }\r\n      }).then(\r\n        res => (this.temp_comments = res.data)\r\n      )\r\n    },\r\n    async add(filename1, id1){\r\n      console.log(filename1)\r\n      if (filename1 === \"\" || id1 === -1){\r\n        console.log(\"answer not valid\")\r\n        return\r\n      }\r\n      await axios({\r\n        url: \"http://127.0.0.1:8000/add_answer\",\r\n        params: {\r\n          target_filename: this.currentData.filename,\r\n          target_id: this.currentData.id,\r\n          answer_filename: filename1,\r\n          answer_id: id1\r\n        }\r\n      })\r\n      await axios({\r\n        url: \"http://127.0.0.1:8000/get_answer\",\r\n        params: {\r\n            target_filename: this.currentData.filename,\r\n            target_id: this.currentData.id,\r\n        }\r\n      }).then(\r\n        res => (this.temp_comments = res.data)\r\n      )\r\n    }\r\n  },\r\n  components: {\r\n    'singleMargin': SingleMargin,\r\n    'comments': Comments\r\n  },\r\n  data(){\r\n    return {\r\n      temp_comments: []\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.selectionPanel{\r\n  position: fixed;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgba(0,0,0,0.5);\r\n  top:0%;\r\n  left:0%;\r\n}\r\n\r\n.wrapper{\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translate(-600px, -400px);\r\n  top: 50%;\r\n  height: 800px;\r\n  width: 1200px;\r\n  border-radius: 10px;\r\n  background-color: #fff;\r\n  border: solid 1px black;\r\n}\r\n\r\n.wrapper .close{\r\n  position: absolute;\r\n  left: 0%;\r\n  top: 0%;\r\n  margin: 10px;\r\n  height: 40px;\r\n  width: max-content;\r\n}\r\n\r\n.wrapper .modal-content{\r\n  position: absolute;\r\n  top: 60px;\r\n  width: 100%;\r\n  height: 740px;\r\n  display: flex;\r\n  flex-direction:row;\r\n  justify-content: space-between;\r\n}\r\n\r\n.wrapper .modal-content .modal-div{\r\n  height: 100%;\r\n  width: 30%;\r\n  border: solid 1px black;\r\n}\r\n\r\n.wrapper .modal-content .modal-div .comments{\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.modal-content-right{\r\n  overflow-y: scroll;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectionPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectionPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectionPanel.vue?vue&type=template&id=fca97f88&scoped=true\"\nimport script from \"./SelectionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SelectionPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./SelectionPanel.vue?vue&type=style&index=0&id=fca97f88&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fca97f88\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <div class=\"buttons\">\r\n            <b-button @click=\"toggle()\">新建注释</b-button>\r\n            <button @click=\"save()\">保存</button>\r\n            <span>当前位置{{ chosen_dialog }}</span>\r\n        </div>\r\n        <div class=\"document\">\r\n            <div class=\"content\" ref=\"content\">\r\n                <ul>\r\n                    <single-dialog :data=\"data\" @setChosenContent=\"setChosenContent\" v-for=\"data in text\" :key=\"data.id\"></single-dialog>\r\n                    <!-- <div class=\"dialog\" :id=\"data.id\" @click=\"setChosenContent(data.id)\">\r\n                        <span class=\"role\">{{data.role}}:</span>\r\n                        <span class=\"dialog-content\">{{data.content}}</span>\r\n                    </div> -->\r\n                </ul>\r\n            </div>\r\n            <div class=\"margin\" ref=\"margin\">\r\n                <ul>\r\n                    <single-margin :data=\"data\" :type=\"data.type\" @setChosenMargin=\"setChosenMargin\" @edit=\"edit\" @deleteComments=\"deleteComments\" @showSelectionModal=\"showSelectionModal(data)\" v-for=\"data in comments\" :key=\"data.id\"></single-margin>\r\n                    <!-- <div class=\"dialog\" @click=\"setChosenMargin(data.id)\" :id=\"data.id\">\r\n                        <div class=\"info\">\r\n                            <span>注释{{data.id + 1}}</span>\r\n                            <span>位置{{data.position}}</span>\r\n                        </div>\r\n                        <textarea type=\"text\" disabled=\"disabled\" :value=\"data.content\"></textarea>\r\n                        <div class=\"buttons\">\r\n                            <button class=\"edit\" @click=\"edit($event, data.id)\">编辑</button>\r\n                            <button class=\"delete\" @click=\"deleteComments(data.id)\">删除</button>\r\n                            <a :href=\"'#'+data.position\" class=\"dialog-content\">跳转</a>\r\n                        </div>\r\n                    </div> -->\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <b-modal\r\n            v-model=\"show\"\r\n            ref=\"modal\"\r\n            class=\"modal\"\r\n            id=\"modal\"\r\n            hide-footer\r\n            hide-header\r\n            dismissible\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <b-button class=\"modal-button close-button\" @click=\"hideModal\">\r\n                        X\r\n                    </b-button>\r\n                </div>\r\n                <div class=\"modal-content-wrapper\">\r\n                    <div class=\"modal-input\">\r\n                        <span>注释位置    </span><input v-model=\"position\" type=\"text\" id=\"position\">\r\n                    </div>\r\n                    <br>\r\n                    <div class=\"modal-input\">\r\n                        <span>注释内容     </span><input v-model=\"content\" type=\"text\" id=\"position\">\r\n                    </div>\r\n                    <br>\r\n                    <div class=\"modal-type\">\r\n                        <span>注释类型     </span>\r\n                        <select v-model=\"type\" type=\"radio\" id=\"position\">\r\n                            <option value=\"疑点\">疑点</option>\r\n                            <option value=\"推测\">推测</option>\r\n                            <option value=\"批注\">批注</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <b-button class=\"modal-button close-button\" @click=\"addComments()\">\r\n                        新建注释\r\n                    </b-button>\r\n                </div>\r\n            </div>\r\n        <!-- <b-button class=\"mt-2\" variant=\"outline-warning\" block @click=\"toggleModal\">Toggle Me</b-button> -->\r\n        </b-modal>\r\n        <selection-panel v-if=\"showSelectionPanel\" @showSelectionModal=\"showSelectionModal\" :currentData=\"currentData\"></selection-panel>\r\n    </div>\r\n</template>\r\n<!-- <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js\"></script> -->\r\n<script>\r\nimport axios from 'axios'\r\nimport SingleDialog from '../components/SingleDialog.vue'\r\nimport SingleMargin from '../components/SingleMargin.vue'\r\nimport SelectionPanel from '../components/SelectionPanel.vue'\r\n// import Comments from './Comments.vue'\r\n// import BootstrapVue from 'boomotstrap-vue'\r\n// import bootstrap from 'bootstrap'\r\nexport default {\r\n    name: `BaseFind`,\r\n    methods: {\r\n        async addComments(){\r\n            console.log(this.type)\r\n            console.log(typeof(this.type))\r\n            this.toggle()\r\n            this.max_id = parseInt(this.max_id) + 1\r\n            console.log(this.max_id)\r\n            // this.comments.push({\"position\":this.position, \"content\":this.content, \"id\": this.max_id, \"type\": this.type})\r\n            await axios({\r\n                url: \"http://127.0.0.1:8000/add_comments\",\r\n                params: {\r\n                    content: this.content,\r\n                    position: this.position,\r\n                    maxId: this.max_id,\r\n                    type: this.type,\r\n                    filename: this.filename\r\n                    //\"./plot/主线/序章/上\"\r\n                }\r\n            })\r\n            this.show = false\r\n            await this.updateComments()\r\n        },\r\n        toggle(){\r\n            this.show = !this.show\r\n        },\r\n        setChosenContent(id){\r\n            this.chosen_dialog = id\r\n        },\r\n        setChosenMargin(id){\r\n            this.chosen_margin = id\r\n        },\r\n        async deleteComments(id){\r\n            this.comments = this.comments.filter(a => (a.id != id))\r\n            console.log(id)\r\n            await axios({\r\n                url: \"http://127.0.0.1:8000/delete_comments\",\r\n                params: {\r\n                    maxId: id,\r\n                    filename: this.filename\r\n                    //\"./plot/主线/序章/上\"\r\n                }\r\n            })\r\n            await this.updateComments()\r\n        },\r\n        async edit(id, content){\r\n            // console.log(\"edit\")\r\n            this.comments.map(it => {\r\n                if (it.id == id){\r\n                    it.content = content\r\n                }\r\n            })\r\n            await axios({\r\n                url: \"http://127.0.0.1:8000/edit_comments\",\r\n                params: {\r\n                    id: id,\r\n                    content: content,//e.currentTarget.parentNode.previousElementSibling.value,\r\n                    filename: this.filename\r\n                    //\"./plot/主线/序章/上\"\r\n                }\r\n            })\r\n            await this.updateComments()\r\n        },\r\n        async save(){\r\n            await this.updateComments()\r\n            axios({\r\n                url: \"http://127.0.0.1:8000/save\",\r\n                params: {\r\n                    // comments: JSON.stringify(this.comments),\r\n                    filepath: this.filename//\"./plot/主线/序章/上\r\n                }\r\n            })\r\n        },\r\n        hideModal(){\r\n            this.$refs.modal.hide()\r\n        },\r\n        async updateComments () {\r\n            await axios({\r\n                url: \"http://127.0.0.1:8000/update_comments\",\r\n                params: {\r\n                    filename: this.filename\r\n                }\r\n            }).then(response => {\r\n                this.comments = response.data\r\n            })\r\n        },\r\n        showSelectionModal(data){\r\n            this.currentData = data\r\n            this.showSelectionPanel = !this.showSelectionPanel\r\n        }\r\n    },\r\n    async created () {\r\n        let flag = 0\r\n        this.max_id = this.comments.length\r\n        // console.log(this.$route.query.key)\r\n        await axios({\r\n            url: \"http://127.0.0.1:8000/get_files\",\r\n            params: {\r\n                filename: this.filename//\"./plot/主线/序章/上\"\r\n            }\r\n        }).then(response => {\r\n            this.text = response.data\r\n        }).catch(() => {\r\n            this.$router.push(\"/notfound\")\r\n            flag = 1\r\n        })\r\n        // this.updateComments()\r\n        if (flag === 1){\r\n            return\r\n        }\r\n        await axios({\r\n            url: \"http://127.0.0.1:8000/get_comments\",\r\n            params: {\r\n                filename: this.filename//\"untitled.txt\"\r\n            }\r\n        }).then(response => {\r\n            this.comments = response.data\r\n        }).catch(() => {\r\n            this.$router.push(\"/notfound\")\r\n            flag = 1\r\n        })\r\n        // const modelDom = document.querySelector(\"#bootstrap-modal-search\")\r\n        // console.log(modelDom)\r\n        // console.log(bootstrap)\r\n        // this.modal = new bootstrap.Modal(modelDom)\r\n        // console.log(this.modal)\r\n    },\r\n    data(){\r\n        return {\r\n            text: [],\r\n            comments: [],\r\n            model: null,\r\n            position: 0,\r\n            content: \"\",\r\n            max_id: 0,\r\n            show: false,\r\n            chosen_dialog: -1,\r\n            chosen_margin: -1,\r\n            type: \"margin\",\r\n            filename: this.$route.params.path,\r\n            showSelectionPanel: false,\r\n            currentData: {\"id\":-1,\"type\":\"疑点\"}\r\n        }\r\n    },\r\n    watch: {\r\n        chosen_dialog(newVal, oldVal) {\r\n            this.$refs.content.querySelector(`.dialog[id=\"dialog${newVal}\"]`).classList.add(\"active-content\")\r\n            if (oldVal != -1){\r\n                this.$refs.content.querySelector(`.dialog[id=\"dialog${oldVal}\"]`).classList.remove(\"active-content\")\r\n            }\r\n            console.log(this.$refs.content.querySelector(`.dialog[id=\"dialog${newVal}\"]`))\r\n        },\r\n        chosen_margin(newVal, oldVal) {\r\n            this.$refs.margin.querySelector(`.dialog[id=\"comment${newVal}\"]`).classList.add(\"active-margin\")\r\n            if (oldVal != -1){\r\n                this.$refs.margin.querySelector(`.dialog[id=\"comment${oldVal}\"]`).classList.remove(\"active-margin\")\r\n            }\r\n            console.log(this.$refs.margin.querySelector(`.dialog[id=\"comment${newVal}\"]`))\r\n        }\r\n    },\r\n    components:{\r\n        'singleDialog': SingleDialog,\r\n        'singleMargin': SingleMargin,\r\n        'selectionPanel': SelectionPanel,\r\n        // 'comments': Comments\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page{\r\n    height: 100%;\r\n    position: relative;\r\n}\r\n.buttons{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: left;\r\n}\r\n.buttons button{\r\n    margin: 10px;\r\n    height: 40px;\r\n    width: 80px;\r\n}\r\n\r\n.document{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: left;\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.content{\r\n  height: 100%;\r\n  border: solid 1px black;\r\n  margin: 5px;\r\n  overflow: scroll;\r\n  text-align: left;\r\n  width: 100%;\r\n  overflow-x: hidden;\r\n  border-radius: 10px 0 0 10px;\r\n}\r\n\r\n.document .margin{\r\n    height: 100%;\r\n    border: solid 1px black;\r\n    margin: 5px;\r\n    overflow: scroll;\r\n    text-align: left;\r\n    width: 25%;\r\n    border-radius: 0 10px 10px 0 ;\r\n    justify-content: left;\r\n}\r\n\r\n#modal___BV_modal_outer_{\r\n    position: fixed;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: rgba(0,0,0,0.5);\r\n    top:0%;\r\n    left:0%;\r\n}\r\n\r\n.modal .modal-content {\r\n    height: 400px;\r\n    width: 600px;\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-300px, -200px);\r\n    border: solid 2px black;\r\n    background-color: #fff;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    vertical-align: middle;\r\n}\r\n\r\n/* .modal-content{\r\n    display:block;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    position: relative;\r\n} */\r\n.modal-content .modal-header{\r\n    position: absolute;\r\n    top:0%;\r\n    width: 100%;\r\n    height: 15%;\r\n}\r\n\r\n.modal-content .modal-header button{\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    margin: 10px;\r\n    width: max-content;\r\n    height: 20px;\r\n    background-color: black;\r\n    border-radius: 5px;\r\n    color: white;\r\n}\r\n\r\n.modal-content .modal-content-wrapper{\r\n    position: absolute;\r\n    top:20%;\r\n    width: 100%;\r\n    height: 60%;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    justify-content: center;\r\n}\r\n.modal-content .modal-content-wrapper .modal-input{\r\n    width: 100%;\r\n    height: 40px;\r\n    margin: 20px;\r\n    transform: translateX(-15px);\r\n}\r\n.modal-content .modal-content-wrapper .modal-input input{\r\n    height: 30px;\r\n}\r\n.modal-content .modal-content-wrapper .modal-input span{\r\n    margin-right: 20px;\r\n    width: 30px;\r\n}\r\n.modal-content .modal-footer{\r\n    position: absolute;\r\n    top:85%;\r\n    width: 100%;\r\n    height: 15%;\r\n}\r\n\r\n.modal-content .modal-footer button{\r\n    position: absolute;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    margin: 10px;\r\n    width: max-content;\r\n    height: 40px;\r\n    background-color: darkred;\r\n    border-radius: 5px;\r\n    color: white;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchPageDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchPageDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SearchPageDialog.vue?vue&type=template&id=5fa7c33e&scoped=true\"\nimport script from \"./SearchPageDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SearchPageDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./SearchPageDialog.vue?vue&type=style&index=0&id=5fa7c33e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fa7c33e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","data","id","on","$event","setChosenMargin","_v","_s","position","type","displaySelectionPanel","domProps","content","edit","deleteComments","link","staticRenderFns","ref","style","hidden","addAnswer","answer","props","String","required","hide","Boolean","default","mounted","console","log","$refs","tag","classList","add","availableTypes","methods","$emit","computed","component","Object","filename","components","MarginType","e","currentTarget","parentNode","previousElementSibling","disabled","value","created","undefined","$route","path","directives","name","rawName","expression","filenames","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","_l","index","key","searchText","composing","temp_comments","refInFor","notAlter","staticStyle","comments","chosen_margin","chosen_filename","SingleMargin","res","axios","url","it","from","Set","notsupported","alert","search","searchValidComments","includes","watch","handler","newVal","oldVal","margin","remove","toggle","save","chosen_dialog","text","setChosenContent","showSelectionModal","model","show","callback","$$v","hideModal","addComments","showSelectionPanel","currentData","_e","role","_m","nothing","deleteAnswer","params","target_filename","target_id","then","answer_filename","answer_id","filename1","id1","Comments","max_id","parseInt","maxId","updateComments","a","filepath","modal","response","flag","length","catch","$router","push","querySelector","SingleDialog","SelectionPanel"],"sourceRoot":""}